<!DOCTYPE html>
<html lang="es">
  
  <head>
    <meta charset="UTF-8">
    <title>M&oacute;dulo 2 - Ejercicio obligatorio</title>
  </head>
  
  <body>
    
    <script>
      function agenda (titulo, inic) {
        var _titulo = titulo;
        var _contenido = inic;
   
        return {
          titulo: function() { return _titulo; },
          meter:  function(nombre, tf) { _contenido[nombre]=tf; },
          tf:     function(nombre) { return _contenido[nombre]; },
          borrar: function(nombre) { delete _contenido[nombre]; },
          toJSON: function() { return JSON.stringify(_contenido); },
          listar: function() {
            
            var contenido = JSON.parse( this.toJSON() ),
                resultado = "";
                
            for( var elemento in contenido ){
              resultado += elemento + ', ' + contenido[elemento] + ' \n';
            }
            
            return resultado;
            
          }
        };
        
      }
      
      var amigos = agenda ("Amigos", {
        Pepe: 113278561,
        José: 157845123,
        Jesús: 178512355
      });
      
      console.log(amigos.listar());
      
    </script>
  </body>

</html>